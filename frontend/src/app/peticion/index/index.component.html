<div class="container mt-5">
  
  <a href="#" routerLink="/peticiones/create/" class="btn btn-success">Crear nueva petici√≥n</a>
  
  <table class="table table-bordered ">
    <tr>
      <th>ID</th>
      <th>Imagen</th>
      <th>Title</th>
      <th>Descripcion</th>
      <th>Destinatario</th>
      <th>Firmantes</th>
      <th>Estado</th>
      <th>Usuario</th>
      <th>Categoria</th>
    
      <th width="220px">Action</th>
    </tr>
    <tr *ngFor="let peticion of peticiones">
      <td>{{ peticion.id }}</td>
      <td>  <img width="200px;" src={{serverURL+peticion.files[0].file_path}} alt="imagen"></td>
      <td>{{ peticion.titulo }}</td>
      <td>{{ peticion.descripcion }}</td>
      <td>{{ peticion.destinatario }}</td>
      <td>{{ peticion.firmantes }}</td>
      <td>{{ peticion.estado }}</td>
      <td>{{ peticion.user_id }}</td>
      <td>{{ peticion.categoria_id }}</td>

                
       
        
    
      <td>
        <a href="#" [routerLink]="['/peticion/', peticion.id, 'view']" class="btn btn-info">View</a>
        <a href="#" [routerLink]="['/peticion/', peticion.id, 'edit']" class="btn btn-primary"
            *ngIf="loggedUser && (loggedUser.id === peticion.user_id || loggedUser.role_id === 2)">Edit</a>

            <button type="button" 
            (click)="deletePeticion(peticion.id)" 
            class="btn btn-danger"
            *ngIf="loggedUser && loggedUser.id === peticion.user_id || loggedUser.role_id === 2">
      Delete
    </button>

    <button  type=button (click)="cambiarEstado(peticion)" *ngIf="loggedUser && (loggedUser.role_id === 2)" class="btn btn-info">CambiarEstado</button>

      </td>
    </tr>
  </table>
</div>